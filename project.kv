#:kivy 2.0.0

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10

        Label:
            text: 'Place Book'
            font_size: 30
            size_hint_y: None
            height: 60

        Button:
            text: 'Create New Place Book'
            size_hint_y: None
            height: 60
            on_press: root.go_to_new_book()

        Button:
            text: 'Open Existing Place Book'
            size_hint_y: None
            height: 60
            on_press: root.go_to_open_book()

<NewBookScreen>:
    book_name: book_name
    start_place: start_place
    destination: destination

    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10

        Button:
            text: 'Back'
            size_hint: None, None
            size: 100, 50
            pos_hint: {'x': 0}
            on_press: root.go_back()

        Label:
            text: 'Create New Place Book'
            font_size: 24
            size_hint_y: None
            height: 60

        BoxLayout:
            size_hint_y: None
            height: 50

            Label:
                text: 'Book Name:'
                size_hint_x: 0.3

            TextInput:
                id: book_name
                hint_text: 'Enter book name'
                multiline: False

        BoxLayout:
            size_hint_y: None
            height: 50

            Label:
                text: 'Start Place:'
                size_hint_x: 0.3

            TextInput:
                id: start_place
                hint_text: 'Enter starting location'
                multiline: False

        BoxLayout:
            size_hint_y: None
            height: 50

            Label:
                text: 'Destination:'
                size_hint_x: 0.3

            TextInput:
                id: destination
                hint_text: 'Enter destination'
                multiline: False

        Button:
            text: 'Create Book'
            size_hint_y: None
            height: 60
            on_press: root.create_book()

<OpenBookScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10

        Button:
            text: 'Back'
            size_hint: None, None
            size: 100, 50
            pos_hint: {'x': 0}
            on_press: root.go_back()

        Label:
            text: 'Open Place Book'
            font_size: 24
            size_hint_y: None
            height: 60

        ScrollView:
            size_hint: 1, 1

            BoxLayout:
                id: books_layout
                orientation: 'vertical'
                spacing: 5
                size_hint_y: None
                height: self.minimum_height

<ViewBookScreen>:
    book_title: book_title
    start_label: start_label
    dest_label: dest_label
    date_label: date_label
    place_input: place_input
    places_layout: places_layout

    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10

        BoxLayout:
            size_hint_y: None
            height: 50

            Button:
                text: 'Back to Books'
                size_hint_x: 0.3
                on_press: root.go_back()

            Label:
                id: book_title
                text: 'Book Details'
                size_hint_x: 0.7

        BoxLayout:
            id: details_layout
            orientation: 'vertical'
            size_hint_y: None
            height: 100

            Label:
                id: start_label
                text: 'Start: '
                size_hint_y: None
                height: 30
                halign: 'left'
                text_size: self.width, None

            Label:
                id: dest_label
                text: 'Destination: '
                size_hint_y: None
                height: 30
                halign: 'left'
                text_size: self.width, None

            Label:
                id: date_label
                text: 'Created: '
                size_hint_y: None
                height: 30
                halign: 'left'
                text_size: self.width, None

        Label:
            text: 'Places Passed:'
            size_hint_y: None
            height: 30
            halign: 'left'
            text_size: self.width, None

        ScrollView:
            size_hint: 1, 0.6

            BoxLayout:
                id: places_layout
                orientation: 'vertical'
                spacing: 5
                size_hint_y: None
                height: self.minimum_height

        BoxLayout:
            size_hint_y: None
            height: 50

            TextInput:
                id: place_input
                hint_text: 'Enter place name'
                multiline: False
                size_hint_x: 0.7

            Button:
                text: 'Add Place'
                size_hint_x: 0.3
                on_press: root.add_place()

        # GPS button will be added in Python code if on Android platform